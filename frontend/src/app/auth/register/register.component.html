<div id="background"></div>

<!-- <div id="container">
    <h1>Register</h1>
    
    <div id="input-container">
        <label>Name
            <input [(ngModel)]="newUser.name" placeholder="e.g.: Whatever">
        </label>
        <label>Email
            <input [(ngModel)]="newUser.eMail" type="email" placeholder="e.g.: example@example.com">
        </label>
        <label>Password
            <input [(ngModel)]="password" type="password" placeholder="password">
        </label>
        <label>Confirm
            <input [(ngModel)]="passwordConf" type="password" placeholder="confirm password">
        </label>
    </div>
    
    <span *ngIf="!checkInput()">Please fill in all forms, and repeat your Password correctly</span>
    <button *ngIf="checkInput()" type="submit" (click)="submit()" class="narr-btn">Submit</button>
</div>
 -->

<div id="container">
        <h1>Register</h1>
        
        <!-- <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
            <div id="input-container">

                <div class="form-group">
                    <label>Username
                        <input type="text" formControlName="username" [ngClass]="{ 'is-invalid': submitted && f.username.errors }" />
                    </label>
                    <div *ngIf="submitted && f.username.errors">
                        <span *ngIf="f.username.errors.required">Username is required</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>Full Name
                        <input type="text" formControlName="name" [ngClass]="{ 'is-invalid': submitted && f.name.errors }" />
                    </label>
                    <div *ngIf="submitted && f.name.errors">
                        <span *ngIf="f.name.errors.required">Full Name is required</span>
                    </div>
                </div>

                <div class="form-group">
                    <label>Email
                        <input type="email" formControlName="email" [ngClass]="{ 'is-invalid': submitted && f.email.errors }" />
                    </label>
                    <div *ngIf="submitted && f.email.errors">
                        <span *ngIf="f.email.errors.required">Full Name is required</span>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="password">Password
                        <input type="password" formControlName="password" [ngClass]="{ 'is-invalid': submitted && f.password.errors }" />
                    </label>
                    <div *ngIf="submitted && f.password.errors">
                        <span *ngIf="f.password.errors.required">Password is required</span>
                    </div>
                </div>

                <div class="form-group">
                    <label for="confPassword">Confirm Password
                        <input type="password" formControlName="confPassword" [ngClass]="{ 'is-invalid': submitted && f.confPassword.errors }" />
                    </label>
                    <div *ngIf="submitted && f.confPassword.errors">
                        <span *ngIf="f.confPassword.errors.required">Password is required</span>
                    </div>
                </div>
                    

                <div class="error" *ngIf="registerForm.get('confPassword').errors && registerForm.get('confPassword').errors.ConfPassword">
                        Passsword and ConfirmPassword didn't match.
                </div>

                <div class="form-group">
                        <button [disabled]="loading" class="narr-btn">Submit</button>
                        <img *ngIf="loading" src="../../../assets/my-spinner3.gif" />
                    </div>
                    <span *ngIf="error">{{error}}</span>

            </div>            
        </form> -->
        
                 
                <form [formGroup]="registrationFormGroup" (ngSubmit)="onSubmit()">
                 <div id="input-container">

                     <div class="form-group">
                         <label for="username">Username
                             <input class="form-control" type="text" name="username" formControlName="username"/>
                         </label>
                     </div>
                     <span *ngIf="registrationFormGroup.controls['username'].hasError('minlength') && registrationFormGroup.get('username').touched">minimum characters = 3</span>
                     <p *ngIf="registrationFormGroup.controls.username.errors?.required && registrationFormGroup.controls.username.touched">Username is required</p>
                  
 
                     <div class="form-group">
                         <label for="fullname">Full Name
                             <input class="form-control" type="text" name="fullname" formControlName="fullname"/>
                         </label>
                     </div>
                     <span *ngIf="registrationFormGroup.controls['fullname'].hasError('minlength') && registrationFormGroup.get('fullname').touched">minimum characters = 3</span>                     
                     <p *ngIf="registrationFormGroup.controls.fullname.errors?.required && registrationFormGroup.controls.fullname.touched">Fullname is required</p>
                     
 
                     <div class="form-group">
                         <label for="email">email
                             <input class="form-control" type="email" name="email" formControlName="email"/>
                         </label>
                     </div>
                     <span *ngIf="(email.dirty || email.touched) && email.invalid">Invalid email format</span>
                     <!-- <span *ngIf="registrationFormGroup.controls['email'].hasError('email') && registrationFormGroup.get('email').touched">wrong email-format</span>
                     <p *ngIf="registrationFormGroup.controls['email'] == '' && registrationFormGroup.get('email').touched">email is required</p>
                           -->
         
 
                     <div [formGroup]="passwordFormGroup">
                         <div class="form-group">
                             <label for="password">Password
                                 <input class="form-control" type="password" name="password" formControlName="password">
                             </label>
                         </div>
                         <p *ngIf="passwordFormGroup.controls.password.errors?.required && passwordFormGroup.controls.password.touched">Password is required</p>
                  
                         <div class="form-group">
                             <label for="repeatPassword">Confirm Password
                                 <input class="form-control" type="password" name="repeatPassword" formControlName="repeatPassword">
                             </label>
                         </div>
                         <span *ngIf="passwordFormGroup.controls['password'].hasError('minlength') && passwordFormGroup.get('password').touched">Minimum Password Length = 6</span>                        
                         <p *ngIf="passwordFormGroup.controls.repeatPassword.errors?.required && passwordFormGroup.controls.repeatPassword.touched">Repeat password is required</p>
                         <p *ngIf="passwordFormGroup.errors?.doesMatchPassword">Password does not match</p>                  
                     </div>

                     <span *ngIf="!submitted && (passwordFormGroup.untouched || registrationFormGroup.untouched) ">Please fill in all forms</span>

                     <div class="form-group">
                         <button class="narr-btn" type="submit" [disabled]="!registrationFormGroup.valid" >Submit</button>
                         <img *ngIf="loading" src="../../../assets/my-spinner3.gif" />
                    </div>

                    <span *ngIf="error">{{error}}</span>

                 </div>
                 
                </form>
              
    </div>
    
    